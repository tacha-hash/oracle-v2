# Oracle Self-Improvement Loop

**Date**: 2026-01-02
**Context**: Multi-agent analysis of Oracle v2 codebase, discovering the recursive self-improvement architecture

## What We Learned

- **Oracle can improve itself**: Claude (Opus) connected to Oracle MCP can edit `src/` code AND add learnings to `ψ/memory/`
- **4-Layer Knowledge Distillation**: Retrospectives (20-50KB) → Logs (3-5KB) → Learnings (1-2KB) → CLAUDE.md
- **Parallel agent analysis is powerful**: 4 agents analyzing different aspects (code, knowledge base, tools, search) in parallel provides comprehensive insights fast
- **Unit tests validate algorithms before integration**: Testing extracted functions (36 tests) catches bugs in scoring, sanitization, security

## Why It Matters

- **True recursive improvement**: The system that teaches Claude can be improved by Claude
- **Knowledge compounds**: Each session's learnings feed back into future guidance
- **Quality gates**: Unit tests ensure improvements don't break existing functionality
- **Self-documenting**: The gist and GitHub issue capture the architecture for future reference

## How To Apply

```bash
# Spawn parallel agents for multi-faceted analysis
Task(subagent_type="Explore", prompt="Analyze aspect A", run_in_background=true)
Task(subagent_type="Explore", prompt="Analyze aspect B", run_in_background=true)
# Collect with TaskOutput

# Create unit tests before implementing fixes
pnpm test              # Run tests
pnpm test:coverage     # Check coverage

# Document architecture
gh gist create --public --desc "System diagram" file.md
```

## Artifacts Created

| Artifact | Link |
|----------|------|
| System Diagram Gist | https://gist.github.com/nazt/8b4b29238217b14913c694ad4eecf430 |
| Implementation Plan | https://github.com/laris-co/oracle-v2/issues/1 |
| Unit Tests | `src/oracle-core.test.ts` (36 tests) |

## Tags

`oracle` `self-improvement` `mcp` `unit-tests` `parallel-agents` `knowledge-distillation`
